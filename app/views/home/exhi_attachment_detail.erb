<div class="container" style="margin-top:60px;min-height:100vh;">
    <div class="main_title normal-font">
        <h2 style="text-align:left;"><%= @exhi.name %></h2>
        <% if user_signed_in? %>
         <% if current_user.email == "admin@naver.com"%>
        <a href="/home/exhi_attachment_edit/<%=@exhi.id%>">Edit</a>|
        <a href="/home/exhi_attachment_destroy/<%=@exhi.id%>">Delete</a>
        <% end %>
        <% end %>
    </div>
    <div class="art_pic first_100" style="margin-bottom:80px;">
        <%= image_tag @attach.pic %>
    </div>
    <div class="art_describe">
        <p><%= @attach.title %></p>
    </div>
    <div class="bio" style="border-top:1px solid #c0c0c0; border-bottom:none;">
        <div class="bio_content">
         <% if @attach.content.nil? %>
         <p>내용이 없습니다.</p>
         <% else %>
         <p><%=@attach.content%></p>
         <% end %>
        </div>
    </div>
</div>

<script>
 
 window.onload = function() {
  var divs = document.getElementsByClassName('first_100');
  for (var i = 0; i < divs.length; ++i) {
    var div = divs[i];
    var divAspect = div.offsetHeight / div.offsetWidth;
    div.style.overflow = 'hidden';
    
    var img = div.querySelector('img');
    var imgAspect = img.height / img.width;

    if (imgAspect <= divAspect) {
      // 이미지가 div보다 납작한 경우 세로를 div에 맞추고 가로는 잘라낸다
      var imgWidthActual = div.offsetHeight / imgAspect;
      var imgWidthToBe = div.offsetHeight / divAspect;
      var marginLeft = -Math.round((imgWidthActual - imgWidthToBe) / 2)
      img.style.cssText = 'width: 100%; height: auto; margin-left: '
                      + marginLeft + 'px;'
    } else {
      // 이미지가 div보다 길쭉한 경우 가로를 div에 맞추고 세로를 잘라낸다
      img.style.cssText = 'width: auto; height: 100%; margin-left: 0;';
    }
  }
};
 $(document).ready(function() {
  var divs = document.getElementsByClassName('first_100');
  for (var i = 0; i < divs.length; ++i) {
    var div = divs[i];
    var divAspect = div.offsetHeight / div.offsetWidth;
    div.style.overflow = 'hidden';
    
    var img = div.querySelector('img');
    var imgAspect = img.height / img.width;

    if (imgAspect <= divAspect) {
      // 이미지가 div보다 납작한 경우 세로를 div에 맞추고 가로는 잘라낸다
      var imgWidthActual = div.offsetHeight / imgAspect;
      var imgWidthToBe = div.offsetHeight / divAspect;
      var marginLeft = -Math.round((imgWidthActual - imgWidthToBe) / 2)
      img.style.cssText = 'width: 100%; height: auto; margin-left: '
                      + marginLeft + 'px;'
    } else {
      // 이미지가 div보다 길쭉한 경우 가로를 div에 맞추고 세로를 잘라낸다
      img.style.cssText = 'width: auto; height: 100%; margin-left: 0;';
    }
  }
});
</script>